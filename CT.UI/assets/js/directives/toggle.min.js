"use strict";app.factory("ToggleHelper",["$rootScope",function(n){return{events:{toggle:"clip-two.toggle",toggleByClass:"clip-two.toggleByClass",togglerLinked:"clip-two.linked",toggleableToggled:"clip-two.toggled"},commands:{alternate:"toggle",activate:"on",deactivate:"off"},toggle:function(t,i){i==null&&(i="toggle");n.$emit(this.events.toggle,t,i)},toggleByClass:function(t,i){i==null&&(i="toggle");n.$emit(this.events.toggleByClass,t,i)},notifyToggleState:function(t,i,r){n.$emit(this.events.toggleableToggled,i.id,r,i.exclusionGroup)},toggleStateChanged:function(n,t,i){this.updateElemClasses(n,t,i);this.notifyToggleState(n,t,i)},applyCommand:function(n,t){switch(n){case this.commands.activate:return!0;case this.commands.deactivate:return!1;case this.commands.alternate:return!t}},updateElemClasses:function(n,t,i){var r;i?(t.activeClass&&n.addClass(t.activeClass),t.inactiveClass&&n.removeClass(t.inactiveClass),r=n.parent(),t.parentActiveClass&&r.addClass(t.parentActiveClass),t.parentInactiveClass&&r.removeClass(t.parentInactiveClass)):(t.inactiveClass&&n.addClass(t.inactiveClass),t.activeClass&&n.removeClass(t.activeClass),r=n.parent(),t.parentInactiveClass&&r.addClass(t.parentInactiveClass),t.parentActiveClass&&r.removeClass(t.parentActiveClass))}}}]).run(["$rootScope","ToggleHelper",function(n,t){n.toggle=function(n,i){i==null&&(i="toggle");t.toggle(n,i)};n.toggleByClass=function(n,i){i==null&&(i="toggle");t.toggleByClass(n,i)}}]).directive("ctToggle",["$rootScope","ToggleHelper",function(n,t){return{restrict:"A",link:function(i,r,u){var o=u.ctToggle||t.commands.alternate,f=u.target,e=u.targetClass,h=u.bubble==="true"||u.bubble==="1"||u.bubble===1||u.bubble===""||u.bubble==="bubble",s;if(!f&&u.href&&(f=u.href.slice(1)),!(f||e))throw"'target' or 'target-class' attribute required with 'ct-toggle'";r.on("click tap",function(n){var i=angular.element(n.target);if(!i.hasClass("disabled"))return f!=null&&t.toggle(f,o),e!=null&&t.toggleByClass(e,o),h?!0:(n.preventDefault(),!1)});s=n.$on(t.events.toggleableToggled,function(n,i,e){i===f&&t.updateElemClasses(r,u,e)});f!=null&&n.$emit(t.events.togglerLinked,f);i.$on("$destroy",s)}}}]).directive("toggleable",["$rootScope","ToggleHelper",function(n,t){return{restrict:"A",link:function(i,r,u){var f=!1;if(u["default"]){switch(u["default"]){case"active":f=!0;break;case"inactive":f=!1}t.toggleStateChanged(r,u,f)}var e=n.$on(t.events.toggle,function(n,i,e){var o;i===u.id&&(o=f,f=t.applyCommand(e,o),o!==f&&t.toggleStateChanged(r,u,f))}),o=n.$on(t.events.toggleByClass,function(n,i,e){var o;r.hasClass(i)&&(o=f,f=t.applyCommand(e,o),o!==f&&t.toggleStateChanged(r,u,f))}),s=n.$on(t.events.toggleableToggled,function(n,i,e,o){e&&u.id!==i&&u.exclusionGroup===o&&u.exclusionGroup!=null&&(f=!1,t.toggleStateChanged(r,u,f))}),h=n.$on(t.events.togglerLinked,function(n,i){u.id===i&&t.notifyToggleState(r,u,f)});i.$on("$destroy",function(){e();o();s();h()})}}}]);