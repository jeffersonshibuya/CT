"use strict";app.directive("ngThumb",["$window",function(n){var t={support:!!(n.FileReader&&n.CanvasRenderingContext2D),isFile:function(t){return angular.isObject(t)&&t instanceof n.File},isImage:function(n){var t="|"+n.type.slice(n.type.lastIndexOf("/")+1)+"|";return"|jpg|png|jpeg|bmp|gif|".indexOf(t)!==-1}};return{restrict:"A",template:"<canvas/>",link:function(n,i,r){function o(n){var t=new Image;t.onload=s;t.src=n.target.result}function s(){var n=u.width||this.width/this.height*u.height,t=u.height||this.height/this.width*u.width;f.attr({width:n,height:t});f[0].getContext("2d").drawImage(this,0,0,n,t)}var u,f,e;t.support&&(u=n.$eval(r.ngThumb),t.isFile(u.file))&&t.isImage(u.file)&&(f=i.find("canvas"),e=new FileReader,e.onload=o,e.readAsDataURL(u.file))}}}]);